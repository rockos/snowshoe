'use strict';

var mongoose = require('mongoose');

var _schema_gndlog = new mongoose.Schema({
        /*
                mc_begin: String,
                mc_name: String,
                mc_state: String,
                mc_date: Date
        */     
       });

var rootdir = process.env.LOCOS_DEV;
var lcsAp = require(rootdir + 'lib/ap/lcsap').create('MON');
var lcsMog = require(rootdir + 'lib/db/lcsmog').create('MON', rootdir+'etc/mongo.cf', _schema_gndlog, "" );



function readDb() {
    console.log('read from MongoDB');
    var d = new Date( 2012, 6, 17, 4, 39 );

    //    lcsMo.find( ({mc_date:{$gt:ISODate("2012-07-17")}}), function(err, docs) {
    //lcsMo.find({"mc_date":{$gte:ISODate("2012-07-17T04:39:00Z")}}, function(err, docs) {
      lcsMog.find({"mc_date":{$gte:d}}, function(err, docs) {
            //lcsMo.findAll( function(err, docs) {
            if (!err || docs.length != "undefined") {
                debugger;
                for (var i = 0; i < docs.length; i++ ) {
                    console.log(docs[i]);
                }
            }
            process.exit();

        });
}

readDb();

